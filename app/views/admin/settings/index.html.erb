<%- content_for :page_heading do %>
<h2>
  <i class="glyphicon glyphicon-large glyphicon-cog"></i>
  <%= _("General settings") %>
</h2>
  
<% end %>

<%= form_tag :action => 'update' do %>

  <fieldset class='form-horizontal'>
    <legend><%= _("Your blog")%></legend>
    <div class='form-group'>
      <label class='control-label col-sm-2' for="setting_blog_name"><%= _("Blog name")%></label>
      <div class='col-sm-5'>
        <%= text_field(:setting, :blog_name, {:class => 'form-control', :size => this_blog.blog_name.length })%>
      </div>
    </div>
    <div class='form-group'>
      <label class='control-label col-sm-2' for="setting_blog_subtitle"><%= _("Blog subtitle")%></label>
      <div class='col-sm-5'>
        <%= text_field(:setting, :blog_subtitle, {:class => 'form-control', :size => this_blog.blog_subtitle.length})%>
      </div>
    </div>
    <div class='form-group'>
      <label class='control-label col-sm-2' for="setting_base_url"><%= _("Blog URL")%></label>
      <div class='col-sm-5'>
        <%= text_field(:setting, :base_url, {:size => this_blog.base_url.length, :class => 'form-control'})%>
      </div>
    </div>
    <div class='form-group'>
      <label class='control-label col-sm-2' for="setting_lang"><%= _("Language")%></label>
      <div class='col-sm-5'>
        <select name="setting[lang]" id='setting_lang' class='form-control'>
          <%= fetch_langs %>
        </select>
      </div>
    </div>
    <div class='form-group'>
      <label class='control-label col-sm-2'><%= _("Users") %></label>
      <div class="col-sm-5">
        <div class='checkbox'>
          <label for="setting_allow_signup">
            <%= check_box(:setting, :allow_signup) %>
            <%= _("Allow users to register")%>
          </label>          
        </div>
        <small class='help-block'><%= _("You can allow users to register to your blog. By default, they will register as contributors, an unpriviledged account level which grant them no rights but own a profile on the site. If you don't want users to register, you can thus add them by yourself in the users part of this admin.") %>.</small>
      </div>
    </div>
    <div class='form-group'>
      <p><%= _("Publify can notify you when new articles or comments are posted")%></p>
      <label class='control-label col-sm-2' for="setting_email_from"><%= _("Source Email")%></label>
      <div class='col-sm-5'>
        <%= text_field(:setting, :email_from, { :class => 'form-control'}) %>
        <small class='help-block'><%= _("Email address used by Publify to send notifications")%></small>
      </div>
    </div>
    <div class='form-group'>
      <label class='control-label col-sm-2' for="setting_admin_display_elements"><%= _("Items to display in admin lists")%></label>
      <div class='col-sm-1'>
        <%= text_field(:setting, :admin_display_elements, {:size => 4, :class => 'form-control'})%>
      </div>
    </div>
  </fieldset>

  <%= hidden_field_tag 'from', 'index' %>
  <%= save_settings %>
<% end %>
